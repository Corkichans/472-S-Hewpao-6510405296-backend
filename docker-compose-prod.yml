corkichan
corkichan
‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå

corkichan ‚Äî 1/11/2567 18:34
‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡πá‡∏°‡∏õ‡πà‡∏∞
pepe ‚Äî 1/11/2567 18:34
product - product size 
pepe ‚Äî 1/11/2567 19:56
admin@gmail.com
password admin
corkichan ‚Äî 1/11/2567 20:01
‡πÄ‡∏ï‡πá‡∏°‡∏™‡∏¥‡∏ö
‡πÉ‡∏´‡πâ‡πÑ‡∏≠‡πâ‡∏Ñ‡∏∏‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà
pepe ‚Äî 1/11/2567 20:01
5-7
corkichan ‚Äî 1/11/2567 20:01
‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ 5 
pepe ‚Äî 1/11/2567 20:03
all standard sizes
10 products
5 clients
4 users (4 region)
4 orders (diff region) ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á order ‡πÉ‡∏´‡πâ‡∏™‡∏•‡∏±‡∏ö user ‡∏ó‡∏≥ purchase ‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÅ‡∏¢‡∏Å region ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á
 
corkichan ‚Äî 1/11/2567 20:03
‡πÄ‡∏≠‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏≠
corkichan ‚Äî 1/11/2567 22:06
‡πÑ‡∏î‡πâ‡∏•‡∏∞‡πÜ
pepe ‚Äî 1/11/2567 22:06
k
‡∏Ç‡∏≠‡∏á‡∏Å‡∏π‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô interface ‡∏ô‡∏∞
‡πÄ‡∏≠‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏π‡∏°‡∏±‡πâ‡∏¢
‡πÅ‡∏ï‡πà‡∏Ç‡∏≠‡∏•‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏∂‡∏á
corkichan ‚Äî 1/11/2567 22:09
‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Ç‡∏µ‡πâ‡πÄ‡∏Å‡∏µ‡∏¢‡∏à‡∏•‡∏∞
pepe ‚Äî 1/11/2567 22:09
‡πÄ‡∏≠‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏°‡∏≤‡∏≠‡∏±‡∏ô‡∏ô‡∏∂‡∏á
corkichan ‚Äî 1/11/2567 22:09
‡∏à‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏´‡∏£‡∏≠‡∏Å
Oi
pepe ‚Äî 1/11/2567 22:09
‡∏•‡∏≠‡∏á‡πÜ
‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏°‡∏∂‡∏á‡πÅ‡∏ï‡∏Å‡∏Å‡∏π‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏π
corkichan ‚Äî 1/11/2567 22:09
kimmy@gmail.com
1
pepe ‚Äî 1/11/2567 22:10
‡∏ú‡∏¥‡∏î
‡πÄ‡∏Å‡∏µ‡∏¢‡∏ô
corkichan ‚Äî 1/11/2567 22:10
‡πÇ‡∏°‡πâ‡∏•‡∏∞
‡∏Å‡∏π‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô555555555
pepe ‚Äî 1/11/2567 22:11
mail ‡∏ú‡∏¥‡∏î
‡πÅ‡∏ï‡πà‡∏Ç‡∏≠‡∏á‡∏Å‡∏π‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏∞‡∏ä‡πà‡∏≤‡∏á‡πÅ‡πÅ‡∏°‡πà‡∏á
corkichan ‚Äî 1/11/2567 22:11
‡∏†‡∏≤‡∏û
corkichan ‚Äî 1/11/2567 22:19
‡πÄ‡∏™‡∏£‡πá‡∏à‡∏•‡∏∞
‡∏Å‡∏π‡∏´‡∏ô‡∏µ‡∏•‡∏∞
‡πÑ‡∏°‡πà‡∏•‡∏±‡∏ö‡∏•‡∏π‡πâ
pepe ‚Äî 1/11/2567 22:19
‡πÄ‡∏ä‡πá‡∏Ñ‡∏´‡∏•‡∏±‡∏á 12.00 ‡∏ó‡∏µ
‡∏î‡πâ‡∏ß‡∏¢
‡∏™‡∏£‡πâ‡∏≤‡∏á
corkichan ‚Äî 1/11/2567 22:19
‡∏°‡πà‡∏≤‡∏¢‡∏≤‡∏¢‡πà‡∏¢‡∏≤‡∏¢‡∏≤‡∏¢‡∏≤‡∏¢
pepe ‚Äî 1/11/2567 22:19
purchjase ‡πÑ‡∏î‡πâ‡∏à‡∏ö
corkichan ‚Äî 1/11/2567 22:20
‡πÇ‡∏≠‡πâ‡∏¢‡πÜ
corkichan ‚Äî 2/11/2567 0:04
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥‡∏ô‡∏∞
‡∏•‡∏≠‡∏á‡∏•‡∏∞
‡∏Å‡∏π
‡πÑ‡∏õ‡∏•‡∏∞
‡∏ö‡∏≤‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢
pepe ‚Äî 2/11/2567 0:04
‡πÄ‡∏ä‡∏µ‡πà‡∏¢ logic work
corkichan ‚Äî 2/11/2567 0:04
‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô
‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
corkichan ‚Äî 20/12/2567 19:31
‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏ö: acrobat
PMA1_07.pdf
241.78 KB
corkichan ‚Äî 29/1/2568 14:11
‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß
roobickgamer@gmail.com
corkichan ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 15:42
https://hub.docker.com/repository/docker/corkichan/hewpao-s-backend/tags/v0.1.0/sha256-ff6de12ba5e6180ecc367a288a531db1ab604983a120cfd6039a1068b4cba045
https://hub.docker.com/repository/docker/corkichan/hewpao-s-frontend/tags/v0.1.0/sha256-cc2d7d6ec4d49f8c06e2e4f13ce4c1e28cff186d257765f0107f486a217cc160
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 16:44
.
```

services:
  app:
    build:
      context: ./docker/
‡∏Ç‡∏¢‡∏≤‡∏¢
message.txt
3 KB
docker-compose-prod.yml
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 16:56
.
```
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
‡∏Ç‡∏¢‡∏≤‡∏¢
message.txt
3 KB
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 17:29
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
‡∏Ç‡∏¢‡∏≤‡∏¢
message.txt
3 KB
push ‡πÑ‡∏õ‡πÉ‡∏´‡∏°‡πà
file ‡πÄ‡∏î‡∏¥‡∏°
‡πÄ‡∏™‡∏£‡πá‡∏à‡∏•‡∏∞‡∏ö‡∏≠‡∏Å
corkichan ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 17:41
review
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 17:50
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
‡∏Ç‡∏¢‡∏≤‡∏¢
message.txt
3 KB
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 18:22
‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô config/config.go
SSL true -> false
‡∏†‡∏≤‡∏û
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      DB_PORT: ${DB_PORT}
      JWT_SECRET: ${JWT_SECRET}
      GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
      GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
      FILE_UPLOAD_SIZE_LIMIT_MB: ${FILE_UPLOAD_SIZE_LIMIT_MB}
      S3_BUCKET_NAME: ${S3_BUCKET_NAME}
      S3_ENDPOINT: http://minio:9000
      S3_ACCESS_KEY_ID: ${MINIO_ROOT_USER}
      S3_SECRET_ACCESS_KEY: ${MINIO_ROOT_PASSWORD}
      S3_EXPIRATION: ${S3_EXPIRATION}
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      STRIPE_WEBHOOK_SECRET: ${STRIPE_WEBHOOK_SECRET}
      EMAIL_SERVER: ${EMAIL_SERVER}
      EMAIL_PORT: ${EMAIL_PORT}
      EMAIL_USER: ${EMAIL_USER}
      EMAIL_PASSWORD: ${EMAIL_PASSWORD}
      KYC_API_URL: ${KYC_API_URL}
      KYC_API_KEY: ${KYC_API_KEY}
      TZ: Asia/Bangkok
    ports:
      - ${APP_PORT}:9090
    restart: on-failure
    networks:
      - hewpao-network
    depends_on:
      db:
        condition: service_healthy
      minio:
        condition: service_healthy

  db:
    image: "postgres:16-alpine"
    environment:
      POSTGRES_DB: ${DB_DATABASE}
      POSTGRES_USER: ${DB_USERNAME}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
      TZ: Asia/Bangkok
    ports:
      - "${DB_PORT}:5432"
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test: ["CMD-SHELL", "pg_isready"]
      interval: 10s
      timeout: 5s
      retries: 5

  front:
    image: "corkichan/hewpao-s-frontend:v0.1.0"
    environment:
      NEXT_PUBLIC_API_BASEURL: ${NEXT_PUBLIC_API_BASEURL}
      AUTH_URL: ${AUTH_URL}
      AUTH_SECRET: ${AUTH_SECERT}
      AUTH_GOOGLE_ID: ${AUTH_GOOGLE_ID}
      AUTH_GOOGLE_SECRET: ${AUTH_GOOGLE_SECRET}
      AUTH_TRUST_HOST: ${AUTH_TRUST_HOST}
      TZ: Asia/Bangkok
    ports:
      - ${FRONT_PORT}:3000
    restart: on-failure
    networks:
      - hewpao-network

  minio:
    image: "minio/minio:latest"
    environment:
      MINIO_ROOT_USER: ${MINIO_ROOT_USER}
      MINIO_ROOT_PASSWORD: ${MINIO_ROOT_PASSWORD}
    command: server /data --console-address ":9001"
    volumes:
      - minio-data:/data
    ports:
      - "9000:9000"
      - "9001:9001"
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -f http://localhost:9000/minio/health/ready || exit 1",
        ]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  db-data:
... (7 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)
‡∏¢‡πà‡∏≠
message.txt
3 KB
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 18:33
‡∏ô‡∏µ‡πà
‡πÅ‡∏õ‡∏õ
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      DB_PORT: ${DB_PORT}
      JWT_SECRET: ${JWT_SECRET}
      GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
      GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
      FILE_UPLOAD_SIZE_LIMIT_MB: ${FILE_UPLOAD_SIZE_LIMIT_MB}
      S3_BUCKET_NAME: ${S3_BUCKET_NAME}
      S3_ENDPOINT: ${S3_ENDPOINT}
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      S3_EXPIRATION: ${S3_EXPIRATION}
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      STRIPE_WEBHOOK_SECRET: ${STRIPE_WEBHOOK_SECRET}
      EMAIL_SERVER: ${EMAIL_SERVER}
      EMAIL_PORT: ${EMAIL_PORT}
      EMAIL_USER: ${EMAIL_USER}
      EMAIL_PASSWORD: ${EMAIL_PASSWORD}
      KYC_API_URL: ${KYC_API_URL}
      KYC_API_KEY: ${KYC_API_KEY}
      TZ: Asia/Bangkok
    ports:
      - ${APP_PORT}:9090
    restart: on-failure
    networks:
      - hewpao-network
    depends_on:
      db:
        condition: service_healthy
      minio:
        condition: service_healthy

  db:
    image: "postgres:16-alpine"
    environment:
      POSTGRES_DB: ${DB_DATABASE}
      POSTGRES_USER: ${DB_USERNAME}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
      TZ: Asia/Bangkok
    ports:
      - "${DB_PORT}:5432"
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test: ["CMD-SHELL", "pg_isready"]
      interval: 10s
      timeout: 5s
      retries: 5

  front:
    image: "corkichan/hewpao-s-frontend:v0.1.0"
    environment:
      NEXT_PUBLIC_API_BASEURL: ${NEXT_PUBLIC_API_BASEURL}
      AUTH_URL: ${AUTH_URL}
      AUTH_SECRET: ${AUTH_SECERT}
      AUTH_GOOGLE_ID: ${AUTH_GOOGLE_ID}
      AUTH_GOOGLE_SECRET: ${AUTH_GOOGLE_SECRET}
      AUTH_TRUST_HOST: ${AUTH_TRUST_HOST}
      TZ: Asia/Bangkok
    ports:
      - ${FRONT_PORT}:3000
    restart: on-failure
    networks:
      - hewpao-network

  minio:
    image: "minio/minio:latest"
    environment:
      MINIO_ROOT_USER: ${MINIO_ROOT_USER}
      MINIO_ROOT_PASSWORD: ${MINIO_ROOT_PASSWORD}
    command: server /data --console-address ":9001"
    volumes:
      - minio-data:/data
    ports:
      - "9000:9000"
      - "9001:9001"
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -f http://localhost:9000/minio/health/ready || exit 1",
        ]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  db-data:
... (7 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)
‡∏¢‡πà‡∏≠
message.txt
3 KB
pepe ‚Äî ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡∏•‡∏≤ 18:45
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      DB_PORT: ${DB_PORT}
      JWT_SECRET: ${JWT_SECRET}
      GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
      GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
      FILE_UPLOAD_SIZE_LIMIT_MB: ${FILE_UPLOAD_SIZE_LIMIT_MB}
      S3_BUCKET_NAME: ${S3_BUCKET_NAME}
      S3_ENDPOINT: ${S3_ENDPOINT}
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      S3_EXPIRATION: ${S3_EXPIRATION}
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      STRIPE_WEBHOOK_SECRET: ${STRIPE_WEBHOOK_SECRET}
      EMAIL_SERVER: ${EMAIL_SERVER}
      EMAIL_PORT: ${EMAIL_PORT}
      EMAIL_USER: ${EMAIL_USER}
      EMAIL_PASSWORD: ${EMAIL_PASSWORD}
      KYC_API_URL: ${KYC_API_URL}
      KYC_API_KEY: ${KYC_API_KEY}
      TZ: Asia/Bangkok
    ports:
      - ${APP_PORT}:9090
    restart: on-failure
    networks:
      - hewpao-network
    depends_on:
      db:
        condition: service_healthy
      minio:
        condition: service_healthy

  db:
    image: "postgres:16-alpine"
    environment:
      POSTGRES_DB: ${DB_DATABASE}
      POSTGRES_USER: ${DB_USERNAME}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
      TZ: Asia/Bangkok
    ports:
      - "${DB_PORT}:5432"
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test: ["CMD-SHELL", "pg_isready"]
      interval: 10s
      timeout: 5s
      retries: 5

  front:
    image: "corkichan/hewpao-s-frontend:v0.1.0"
    environment:
      NEXT_PUBLIC_API_BASEURL: ${NEXT_PUBLIC_API_BASEURL}
      AUTH_URL: ${AUTH_URL}
      AUTH_SECRET: ${AUTH_SECERT}
      AUTH_GOOGLE_ID: ${AUTH_GOOGLE_ID}
      AUTH_GOOGLE_SECRET: ${AUTH_GOOGLE_SECRET}
      AUTH_TRUST_HOST: ${AUTH_TRUST_HOST}
      TZ: Asia/Bangkok
    ports:
      - ${FRONT_PORT}:3000
    restart: on-failure
    networks:
      - hewpao-network

  minio:
    image: "minio/minio:latest"
    environment:
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
    command: server /data --console-address ":9001"
    volumes:
      - minio-data:/data
    ports:
      - "9000:9000"
      - "9001:9001"
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -f http://localhost:9000/minio/health/ready || exit 1",
        ]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  db-data:
... (7 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)
‡∏¢‡πà‡∏≠
message.txt
3 KB
push ‡πÑ‡∏õ
Ôªø
pepe
ppu.nn
 
pp_u.nnü•Ä
services:
  app:
    image: "corkichan/hewpao-s-backend:v0.1.0"
    environment:
      DB_HOST: ${DB_HOST}
      DB_DATABASE: ${DB_DATABASE}
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      DB_PORT: ${DB_PORT}
      JWT_SECRET: ${JWT_SECRET}
      GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
      GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
      FILE_UPLOAD_SIZE_LIMIT_MB: ${FILE_UPLOAD_SIZE_LIMIT_MB}
      S3_BUCKET_NAME: ${S3_BUCKET_NAME}
      S3_ENDPOINT: ${S3_ENDPOINT}
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      S3_EXPIRATION: ${S3_EXPIRATION}
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      STRIPE_WEBHOOK_SECRET: ${STRIPE_WEBHOOK_SECRET}
      EMAIL_SERVER: ${EMAIL_SERVER}
      EMAIL_PORT: ${EMAIL_PORT}
      EMAIL_USER: ${EMAIL_USER}
      EMAIL_PASSWORD: ${EMAIL_PASSWORD}
      KYC_API_URL: ${KYC_API_URL}
      KYC_API_KEY: ${KYC_API_KEY}
      TZ: Asia/Bangkok
    ports:
      - ${APP_PORT}:9090
    restart: on-failure
    networks:
      - hewpao-network
    depends_on:
      db:
        condition: service_healthy
      minio:
        condition: service_healthy

  db:
    image: "postgres:16-alpine"
    environment:
      POSTGRES_DB: ${DB_DATABASE}
      POSTGRES_USER: ${DB_USERNAME}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
      TZ: Asia/Bangkok
    ports:
      - "${DB_PORT}:5432"
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test: ["CMD-SHELL", "pg_isready"]
      interval: 10s
      timeout: 5s
      retries: 5

  front:
    image: "corkichan/hewpao-s-frontend:v0.1.0"
    environment:
      NEXT_PUBLIC_API_BASEURL: ${NEXT_PUBLIC_API_BASEURL}
      AUTH_URL: ${AUTH_URL}
      AUTH_SECRET: ${AUTH_SECERT}
      AUTH_GOOGLE_ID: ${AUTH_GOOGLE_ID}
      AUTH_GOOGLE_SECRET: ${AUTH_GOOGLE_SECRET}
      AUTH_TRUST_HOST: ${AUTH_TRUST_HOST}
      TZ: Asia/Bangkok
    ports:
      - ${FRONT_PORT}:3000
    restart: on-failure
    networks:
      - hewpao-network

  minio:
    image: "minio/minio:latest"
    environment:
      S3_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      S3_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
    command: server /data --console-address ":9001"
    volumes:
      - minio-data:/data
    ports:
      - "9000:9000"
      - "9001:9001"
    networks:
      - hewpao-network
    restart: on-failure
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -f http://localhost:9000/minio/health/ready || exit 1",
        ]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  db-data:
    driver: local
  minio-data:
    driver: local

networks:
  hewpao-network:
    driver: bridge
message.txt
3 KB